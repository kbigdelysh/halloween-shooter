\hypertarget{_cannon_8cs_source}{}\doxysection{Cannon.\+cs}
\label{_cannon_8cs_source}\index{Assets/Scripts/Gameplay/Cannon.cs@{Assets/Scripts/Gameplay/Cannon.cs}}
\mbox{\hyperlink{_cannon_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00001}00001 \textcolor{keyword}{using} System.Collections;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00002}00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00003}00003 \textcolor{keyword}{using} UnityEngine;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00005}\mbox{\hyperlink{class_cannon}{00005}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_cannon}{Cannon}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00006}00006 \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00007}00007     [Header(\textcolor{stringliteral}{"{}Cannon Motion"{}})]}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00008}00008     [SerializeField] \textcolor{keyword}{private} Transform \_cannonTransform = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00009}00009     [SerializeField] \textcolor{keyword}{private} Transform \_cannonballSpawnPoint = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00010}00010     [SerializeField] \textcolor{keyword}{private} \textcolor{keywordtype}{float} \_rotationRate = 45.0f;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00011}00011     [Header(\textcolor{stringliteral}{"{}Cannon Firing"{}})]}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00012}00012     \textcolor{comment}{//[SerializeField] private GameObject \_cannonballPrefab = null;}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00013}00013     [SerializeField] \textcolor{keyword}{private} \textcolor{keywordtype}{float} \_cannonballFireVelocity = 50.0f;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00014}00014     [SerializeField] \textcolor{keyword}{private} \textcolor{keywordtype}{float} \_rateOfFire = 0.33f;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00016}00016     \textcolor{keyword}{private} \textcolor{keywordtype}{float} \_timeOfLastFire = 0.0f;}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00018}00018     \textcolor{comment}{// Start is called before the first frame update}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00019}00019     \textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00020}00020     \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00021}00021         FindObjectOfType<GameSession>().OnSessionEnd += () => \{ enabled = \textcolor{keyword}{false}; \};}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00022}00022     \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00024}00024     \textcolor{comment}{// Update is called once per frame}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00025}00025     \textcolor{keywordtype}{void} Update()}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00026}00026     \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00027}00027         \textcolor{keywordflow}{if}( Input.GetKeyDown( KeyCode.Space ) )}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00028}00028         \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00029}00029             \mbox{\hyperlink{class_cannon_add55fca1700b00a342e81747ceddccb2}{FireCannon}}();}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00030}00030         \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00032}00032         \textcolor{keywordflow}{if}( Input.GetKey( KeyCode.LeftArrow ) )}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00033}00033         \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00034}00034             \_cannonTransform.Rotate( 0.0f, -\/(Time.deltaTime * \_rotationRate), 0.0f, Space.World );}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00035}00035         \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00037}00037         \textcolor{keywordflow}{if}( Input.GetKey( KeyCode.RightArrow ) )}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00038}00038         \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00039}00039             \_cannonTransform.Rotate( 0.0f, Time.deltaTime * \_rotationRate, 0.0f, Space.World );}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00040}00040         \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00041}00041     \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00043}\mbox{\hyperlink{class_cannon_add55fca1700b00a342e81747ceddccb2}{00043}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_cannon_add55fca1700b00a342e81747ceddccb2}{FireCannon}}()}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00044}00044     \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00045}00045         \textcolor{keywordflow}{if}( Time.timeSinceLevelLoad > \_timeOfLastFire + \_rateOfFire )}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00046}00046         \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00047}00047             var spawnedBall = \mbox{\hyperlink{class_object_pool}{ObjectPool}}.\mbox{\hyperlink{class_object_pool_a45f8de7734c6b46cf5ff51208ca321b5}{SharedInstance}}.\mbox{\hyperlink{class_object_pool_ac66248bd144d14974e1be1704fca9434}{GetPooledObject}}();}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00048}00048             \textcolor{keywordflow}{if} (spawnedBall != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00049}00049             \{    }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00050}00050                 spawnedBall.transform.SetPositionAndRotation(\_cannonballSpawnPoint.transform.position, \_cannonTransform.rotation);}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00051}00051                 spawnedBall.SetActive(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00052}00052                 spawnedBall.GetComponent<\mbox{\hyperlink{class_cannonball}{Cannonball}}>().InvokeDisappear();}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00053}00053                 \textcolor{keywordflow}{if} (spawnedBall.GetComponent<Rigidbody>() == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00054}00054                 \{}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00055}00055                     spawnedBall.AddComponent<Rigidbody>();}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00056}00056                 \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00057}00057                 spawnedBall.GetComponent<Rigidbody>().AddForce(\_cannonTransform.forward * \_cannonballFireVelocity, ForceMode.Impulse);}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00058}00058                 \_timeOfLastFire = Time.timeSinceLevelLoad;                }
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00059}00059             \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00060}00060         \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00061}00061     \}}
\DoxyCodeLine{\Hypertarget{_cannon_8cs_source_l00062}00062 \}}

\end{DoxyCode}
